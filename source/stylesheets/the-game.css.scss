
@mixin animate($name,$duration,$interp,$count){
	-webkit-animation-name: $name; 
	-webkit-animation-duration: $duration; 
	-webkit-animation-iteration-count: $count;
	-webkit-animation-timing-function: $interp;
	-moz-animation-name: $name; 
	-moz-animation-duration: $duration; 
	-moz-animation-iteration-count: $count;
	-moz-animation-timing-function: $interp;
	animation-name: $name; 
	animation-duration: $duration; 
	animation-iteration-count: $count;
	animation-timing-function: $interp;
}

div.bleh-game{
	overflow:hidden;
	position:relative;
	
	& > div.loading_screen {
		position:absolute;
		top:0;
		left:0;
		width:100%;
		
		background:black;
		z-index:30;
		
		div {
			position:absolute;
			background-size:cover;
			background-color:transparent;
			background-attachment: no-scroll;
			
		}
		$scale: 0.0625em;

		div.caption{
			font-size:2em;
			
			width:100%;
			text-align:center;
			top:45%;
			@include animate(flash,3s,ease-out,infinite);
		}

		div.gear1 {
			width:100 * $scale;
			height:100 * $scale;
			
			background-image:url(../images/loading/big-gear.png);
			right:35 * $scale;
			bottom:27  * $scale;
			

			@include animate(rotate,4s,linear,infinite)
		}
		& > div.gear2 {
			width:62 * $scale;
			height:62 * $scale;
			background-image:url(../images/loading/medium-gear.png);
			right: 128  * $scale;
			bottom: 79  * $scale;		
			@include animate(rotate-ccw,4s,linear,infinite)			
		
		}
		& > div.gear3 {
			width:38 * $scale;
			height:38 * $scale;
			background-image:url(../images/loading/small-gear.png);
			right:105  * $scale;
			bottom:126 * $scale;
			@include animate(rotate,4s,linear,infinite)			

		}
		& > div.w {
			width:40 * $scale;
			height:49 * $scale;
			background-image:url(../images/loading/w.png);
			right: 69 * $scale;
			bottom: 53 * $scale;
		}
		
		&.loaded{
			transition:top 1s ease,visibility 0s linear 2s;
			visibility:hidden;
			top:-100%;			
		}
	}
}


@keyframes rotate {
    from {transform: rotate(0deg);}
    to {transform: rotate(360deg);}
}


@keyframes rotate-ccw {
    from {transform: rotate(0deg);}
    to {transform: rotate(-360deg);}
}




@keyframes flash {
    0%, 100% {opacity: 0}
    50% {opacity:1}
}
@keyframes flash-off {
    from {opacity: 0}
    to {opacity:1}
}
